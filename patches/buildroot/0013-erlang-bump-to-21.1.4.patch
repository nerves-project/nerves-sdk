From 76de05cc5f2dae13a67ad231ed413d67c7c5ef2b Mon Sep 17 00:00:00 2001
From: Frank Hunleth <fhunleth@troodon-software.com>
Date: Tue, 11 Sep 2018 12:32:11 -0400
Subject: [PATCH] erlang: bump to 21.1.4

---
 ...erts-ethread-instruct-libatomic_ops-we-do-require-CA.patch | 0
 .../0002-erts-emulator-reorder-inclued-headers-paths.patch    | 0
 .../0003-Link-with-LDLIBS-instead-of-LIBS-for-DED.patch       | 0
 package/erlang/erlang.hash                                    | 2 +-
 package/erlang/erlang.mk                                      | 4 ++--
 5 files changed, 3 insertions(+), 3 deletions(-)
 rename package/erlang/{21.0 => 21.1.4}/0001-erts-ethread-instruct-libatomic_ops-we-do-require-CA.patch (100%)
 rename package/erlang/{21.0 => 21.1.4}/0002-erts-emulator-reorder-inclued-headers-paths.patch (100%)
 rename package/erlang/{21.0 => 21.1.4}/0003-Link-with-LDLIBS-instead-of-LIBS-for-DED.patch (100%)

diff --git a/package/erlang/21.0/0001-erts-ethread-instruct-libatomic_ops-we-do-require-CA.patch b/package/erlang/21.1.4/0001-erts-ethread-instruct-libatomic_ops-we-do-require-CA.patch
similarity index 100%
rename from package/erlang/21.0/0001-erts-ethread-instruct-libatomic_ops-we-do-require-CA.patch
rename to package/erlang/21.1.4/0001-erts-ethread-instruct-libatomic_ops-we-do-require-CA.patch
diff --git a/package/erlang/21.0/0002-erts-emulator-reorder-inclued-headers-paths.patch b/package/erlang/21.1.4/0002-erts-emulator-reorder-inclued-headers-paths.patch
similarity index 100%
rename from package/erlang/21.0/0002-erts-emulator-reorder-inclued-headers-paths.patch
rename to package/erlang/21.1.4/0002-erts-emulator-reorder-inclued-headers-paths.patch
diff --git a/package/erlang/21.0/0003-Link-with-LDLIBS-instead-of-LIBS-for-DED.patch b/package/erlang/21.1.4/0003-Link-with-LDLIBS-instead-of-LIBS-for-DED.patch
similarity index 100%
rename from package/erlang/21.0/0003-Link-with-LDLIBS-instead-of-LIBS-for-DED.patch
rename to package/erlang/21.1.4/0003-Link-with-LDLIBS-instead-of-LIBS-for-DED.patch
diff --git a/package/erlang/erlang.hash b/package/erlang/erlang.hash
index 0587c9df01..26717f4070 100644
--- a/package/erlang/erlang.hash
+++ b/package/erlang/erlang.hash
@@ -1,4 +1,4 @@
 # sha256 locally computed
-sha256 c7d247c0cad2d2e718eaca2e2dff051136a1347a92097abf19ebf65ea2870131  OTP-21.0.tar.gz
+sha256 95a97851d4af2d894fe981caa81d077b0d2c01f3bdf6cdf83309baa9678617f9  OTP-21.1.4.tar.gz
 sha256 a06d68aaf4884752d226410ff66547783c260bf4fc92147d60c4011465c1de24  OTP-20.3.8.5.tar.gz
 sha256 809fa1ed21450f59827d1e9aec720bbc4b687434fa22283c6cb5dd82a47ab9c0  LICENSE.txt
diff --git a/package/erlang/erlang.mk b/package/erlang/erlang.mk
index 2a373688f1..e00d9cdd44 100644
--- a/package/erlang/erlang.mk
+++ b/package/erlang/erlang.mk
@@ -8,7 +8,7 @@
 ifeq ($(BR2_PACKAGE_ERLANG_20),y)
 ERLANG_VERSION = 20.3.8.5
 else
-ERLANG_VERSION = 21.0
+ERLANG_VERSION = 21.1.4
 endif
 
 ERLANG_SITE = https://github.com/erlang/otp/archive
@@ -24,7 +24,7 @@ ERLANG_INSTALL_STAGING = YES
 ifeq ($(BR2_PACKAGE_ERLANG_20),y)
 ERLANG_EI_VSN = 3.10.2.1
 else
-ERLANG_EI_VSN = 3.10.3
+ERLANG_EI_VSN = 3.10.4
 endif
 
 # The configure checks for these functions fail incorrectly
-- 
2.17.1

